<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
        h1 { text-align: center; }
        .product { border: 1px solid #ddd; margin: 10px; padding: 10px; text-align: center; display: inline-block; width: 200px; }
        button { padding: 5px; }
        #cartBtn { margin-top: 20px; }
    </style>
</head>
<body>
    <h1>Available Products</h1>
    <div id="productList"></div>
    <button id="cartBtn" onclick="location.href='Checkout.html'">Go to Cart</button>

    <script>
        const productList = document.getElementById('productList');

        // Load products from localStorage
        function loadProducts() {
            const products = JSON.parse(localStorage.getItem('products')) || [];
            productList.innerHTML = products.map((product, index) => `
                <div class="product">
                    <img src="${product.image}" alt="${product.name}" width="100">
                    <h3>${product.name}</h3>
                    <p>Price: $${product.price}</p>
                    <p>Available: ${product.quantity}</p>
                    <button onclick="addToCart(${index})">Add to Cart</button>
                </div>
            `).join('');
        }

        function addToCart(index) {
            const products = JSON.parse(localStorage.getItem('products')) || [];
            const product = products[index];

            const quantity = prompt('Enter quantity:', 1);
            if (quantity > 0 && quantity <= product.quantity) {
                const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
                cartItems.push({ ...product, quantity: parseInt(quantity) });
                localStorage.setItem('cartItems', JSON.stringify(cartItems));
                alert('Added to cart!');
            } else {
                alert('Invalid quantity!');
            }
        }

        // Initial load
        loadProducts();
    </script>
</body>
</html>